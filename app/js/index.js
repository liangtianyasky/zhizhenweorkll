function init(){sliderPic(),bindEvent(),myProduct()}function sliderPic(){function t(t){var e=$("#slider ul li").eq(t);e.css({"z-index":n++}),e.hide(),e.fadeIn(1e3),i=t}var n=2,i=0,e=$("#slider ul li").length,a=null;$("#slider").hover(function(){clearInterval(a)},function(){a=setInterval(function(){i++,i==e&&(i=0),t(i)},2500)}).trigger("mouseleave")}function bindEvent(){function t(t){$("#content").stop().animate({width:0},400,function(){$("#product-page").stop().animate({opacity:1},600)}),$("#scroll").css("top",0),t.removeClass().addClass("jiantou-two").stop().animate({left:169},600)}function n(t){$("#product-page").stop().animate({opacity:0},600,function(){$("#content").stop().animate({width:1e3},400),t.removeClass().addClass("jiantou").stop().animate({left:966},600)})}function i(t){$("#scroll").css("top",0),$("#scroll").children("div.product-type").removeClass("cur-type").eq(t).addClass("cur-type")}function e(){return!c.hasClass("next_disabled")&&(c.off("click"),o.removeClass("prev_disabled").addClass("prev_btn"),u+=1,u>=r-1&&c.removeClass().addClass("next_disabled"),l.stop().animate({left:-u*d},500,function(){c.on("click",e)}),h.eq(0).text("0"+(u+1)),void h.eq(1).text("/0"+r))}function a(){return!o.hasClass("prev_disabled")&&(o.off("click"),c.removeClass("next_disabled").addClass("next_btn"),u-=1,u<=0&&o.removeClass().addClass("prev_disabled"),l.stop().animate({left:-u*d},500,function(){o.on("click",a)}),h.eq(0).text("0"+(u+1)),void h.eq(1).text("/0"+r))}var s=$("#btn");s.on("click",function(){$(this).is(".jiantou")?t($(this)):n($(this)),$(this).data("flag")?(n($(this)),$(this).data("flag",!1)):(t($(this)),$(this).data("flag",!0))}),$(".product-pic").on("mouseenter",".full",function(){alert("cdd");var t=$(this).outerWidth(),n=$(this).outerHeight(),i=$(this).data("login")?"申请试用":"登 录";html='<p><a href="#" class="login-btn">'+i+"</a></p>",$mask=$('<div class="mask"></div>'),$mask.width(t).height(n),$mask.html(html).appendTo($(this))}).on("mouseleave",".full",function(){$(this).children(".mask").remove()}),$("#pageNo").on("click","span",function(){var t=$(this).index(),n=$(".product-pic").outerHeight();$("#scroll").stop().animate({top:-n*t},500),$(this).addClass("curp").siblings().removeClass("curp")}),$("#index-nav").on("click","a",function(){t($("#btn")),i($(this).index()),$(".product-nav").css("background",$(this).data("color"))}),$("#list-nav").on("click","a",function(){i($(this).index())}),$("#index-nav").on("mouseover","a",function(){var t=$(this).data("color");$(this).css("background",t).siblings().css("background","none")}),$("#toTop").click(function(){$(window).scrollTop(0)});var o=$("#prev_btn"),c=$("#next_btn"),l=$("#fat-list"),r=l.children().length,d=$("#fat-scroll").width(),u=0,h=$("#pic_num").children("span");l.width(d*r),c.on("click",e),o.on("click",a)}function pageSlider(){function t(){var t=-o*a;c=o+1,i.stop(!0,!1).animate({left:t},500),l.first().text("0"+c)}function n(){i.append(i.children(":first").clone());var t=-e*a;i.stop(!0,!1).animate({left:t},500,function(){i.css("left","0").children(":last").remove()}),c=1,l.first().text("0"+c)}var i=$("#img-list"),e=i.children().length,a=$("#page-slider").width(),s=null,o=0,c=1,l=$("#num-info").children("span");l.last().text("/0"+e),l.first().text("0"+c),i.width(a*(e+1)),$("#page-slider").hover(function(){clearInterval(s)},function(){s=setInterval(function(){o++,o==e?(n(),o=0):t()},3e3)}).trigger("mouseleave"),$("#prev").on("click",function(){o--,o<0&&(o=e-1),t()}),$("#next").on("click",function(){o++,o==e?(n(),o=0):t()})}function myProduct(){function t(){var t=Math.abs(o.position().top);return!(t<=0)&&(!o.is(":animated")&&void o.stop().animate({top:"+="+c},500))}function n(){var t=Math.abs(o.position().top);return!(t>=o.height()-400)&&(!o.is(":animated")&&void o.stop().animate({top:"-="+c},500))}function i(){var t=$("body").height();0==$(".markbg").length&&$('<div class="markbg"></div>').height(t).appendTo($("body"))}function e(){$(".markbg").remove()}var a=$("#upbtn"),s=$("#downbtn"),o=$("#my-pro-list"),c=$("#myprobox").height()/2;a.on("click",t),s.on("click",n),$("#my-pro-list>li").each(function(t){var n=t%6,i="";switch(n){case 0:case 5:i="gray";break;case 1:i="red";break;case 2:case 3:i="orange";break;case 4:i="gray-2"}$(this).addClass(i)}),$("#my-pro-list").on("click",".tip",function(){i(),$("#pro-mask").fadeIn()}),$("#select").on("click","li",function(){var t=$("#confirm");$(this).addClass("checked").siblings().removeClass("checked"),1==$(this).index()?(t.fadeIn(),$("#nobuy").children().removeClass("checked")):t.fadeOut()}),$("#nobuy").on("click","li",function(){$(this).addClass("checked").siblings().removeClass("checked"),$("#select").children("li:last").removeClass("checked")}),$("#submit").click(function(){var t=$("#pro-mask").find("li.checked").data("type"),n=$("#mask-con");return"999"!=t&&void $.ajax({url:"",type:"post",dataType:"json",success:function(t){n.html("<p>"+t.msg+"</p>")}})}),$("#close-mask").click(function(){$("#pro-mask").fadeOut(),e()})}init(),pageSlider();